# Предназначение

Хранение данных и генерация отчётов для лабораторных измерений

## device_dc (типы приборов)

Хранение параметров типов приборов в dataclass-объектах.

### Источник питания (power_supply)**
#### PowerSupplyChannel

- number  - номер канала (1, 2, 3...)
- name - обозначение вывода (например Vdd, Vcc - name - dd, cc)
- volt - напряжение [В]
- max_current -  ограничение по току [А]
- is_enabled - будет ли канал включаться при измерении
- is_readable - будет ли измеряться ток  канала
- max_rating - максимальный ток по даташиту [А]
- typical_rating - типовой ток по даташиту [А]

#### PowerSupply:

channels - перечисление всех каналов в приборе

#### Пример данных

channels:
  - number: 1
    name: "dd"
    volt: 3.3
    max_current: 0.5
    is_enabled: true
### ВАЦ (VNA) 

- power - выходная мощность в дБм
- max_freq - максимальная частота в Гц
- targ_freq - частоты которые будут  в выводе:
    - min - нижний предел s21 дБм
    - max - верхний предел s21 дБм
    - typ - типовое значение s21 дБм
- TRACE_NAME - список соответствия s-параметров и имён трас в приборе из которых будут выгружаться данные (например трасса с данными о s21 может названа S21, gain или TRACE24 смотреть как в приборе)

#### Пример данных:

power: 10.0
targ_freq:
  1.0e9: 
    min: -20
    max: -10
  2.4e9:
    typ: -15
### Контроллер (BluePill)

Используется для отправки сообщения исследываемому компоненты (например hmc624)
Вместо blue pill может быть любая аналогичная плата (ардуино, пи пико...)

- num_of_bits - разрядность управления
- inversion - инверсия сигнала
- type_inter_spi - использование SPI-интерфейса
- ALL_PINS - активные пины (список номеров пинов которые должны быть подняты)
#### Пример данных:

num_of_bits: 8
inversion: false
ALL_PINS: [1, 2, 3]

## device_data_operate (Операции с данными)

Методы для работы с конфигурациями приборов.

###  DataOperate (базовый функционал)

- TYPE_OF_DEVICE - тип прибора (строка)
- to_dict() - преобразование в словарь
- update_from_dict() - загрузка из словаря
### Методы для источников питания

- create_conditions() - формирует строку условий:
    Vdd = 3.3 В, Vcc = 5.0 В
- create_datasheet() - генерирует требования:
    Ток Idd < 500 мА, типовое значение 200 мА
- test_channel_max() - проверка токов на превышение

### Методы для VNA

- create_conditions() - параметры измерений:
    Мощность: 10 дБм, частоты: 1.0 ГГц, 2.4 ГГц
- create_datasheet() - технические требования:
    S21 на 1.0 ГГц: -20...-10 дБ

### Методы для BluePill

- create_spi_message_list()/create_spi_message_list() - список команд для отправки по SPI/PAR в цикле для проверки всех состояний прибора
- create_spi_messages()/create_par_messages() - генерация заголовока с посланным сообщением (нужно для соотнесения режима проверяемого компонента и его параметров)
    SPI [101010]: 



**Примечания:**

1. Все параметры обязательны, если не указано иное
2. Параметры приборов записываются в системе СИ 
3. Для работы требуется Python 3.8+
4. Лицензия: MIT